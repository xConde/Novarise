<div class="board-container">
  <div class="canvas-container" #canvasContainer></div>

  <div class="tower-selection">
    <button
      class="tower-btn"
      [class.selected]="selectedTowerType === 'basic'"
      (click)="selectTowerType('basic')"
      aria-label="Select Basic Tower">
      <div class="tower-icon basic"></div>
      <span class="tower-name">Basic</span>
    </button>

    <button
      class="tower-btn"
      [class.selected]="selectedTowerType === 'sniper'"
      (click)="selectTowerType('sniper')"
      aria-label="Select Sniper Tower">
      <div class="tower-icon sniper"></div>
      <span class="tower-name">Sniper</span>
    </button>

    <button
      class="tower-btn"
      [class.selected]="selectedTowerType === 'splash'"
      (click)="selectTowerType('splash')"
      aria-label="Select Splash Tower">
      <div class="tower-icon splash"></div>
      <span class="tower-name">Splash</span>
    </button>
  </div>

  <!-- Terrain Controls Panel -->
  <div class="terrain-controls">
    <div class="control-section">
      <h3 class="section-title">Edit Mode</h3>
      <div class="mode-buttons">
        <button
          class="mode-btn"
          [class.active]="terrainEditMode === 'paint'"
          (click)="togglePaintMode()"
          aria-label="Toggle Paint Mode">
          ğŸ¨ Paint (T)
        </button>
        <button
          class="mode-btn"
          [class.active]="terrainEditMode === 'height'"
          (click)="toggleHeightMode()"
          aria-label="Toggle Height Mode">
          â›°ï¸ Height (H)
        </button>
      </div>
    </div>

    <div class="control-section" *ngIf="terrainEditMode === 'paint'">
      <h3 class="section-title">Terrain Type</h3>
      <div class="terrain-buttons">
        <button
          class="terrain-btn"
          [class.selected]="selectedTerrainType === 'bedrock'"
          (click)="selectTerrainType('bedrock')"
          aria-label="Select Bedrock">
          ğŸª¨ Bedrock (B)
        </button>
        <button
          class="terrain-btn"
          [class.selected]="selectedTerrainType === 'mithril_crystal'"
          (click)="selectTerrainType('mithril_crystal')"
          aria-label="Select Mithril Crystal">
          ğŸ’ Crystal (C)
        </button>
        <button
          class="terrain-btn"
          [class.selected]="selectedTerrainType === 'luminous_moss'"
          (click)="selectTerrainType('luminous_moss')"
          aria-label="Select Luminous Moss">
          ğŸŒ¿ Moss (M)
        </button>
        <button
          class="terrain-btn"
          [class.selected]="selectedTerrainType === 'abyss'"
          (click)="selectTerrainType('abyss')"
          aria-label="Select Abyss">
          âš« Abyss (A)
        </button>
      </div>
    </div>

    <div class="control-section" *ngIf="terrainEditMode === 'height'">
      <h3 class="section-title">Height Adjustment</h3>
      <div class="info-text">
        Left-click a tile to raise it<br>
        Right-click to lower it
      </div>
    </div>

    <div class="control-section">
      <h3 class="section-title">Shortcuts</h3>
      <button
        class="action-btn"
        (click)="generateNewTerrain()"
        aria-label="Generate New Terrain">
        ğŸ² New Terrain (Ctrl+G)
      </button>
      <button
        class="action-btn"
        (click)="saveTerrain()"
        aria-label="Save Terrain">
        ğŸ’¾ Save (Ctrl+S)
      </button>
    </div>
  </div>
</div>
